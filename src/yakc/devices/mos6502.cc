//------------------------------------------------------------------------------
//  mos6502.cc
//------------------------------------------------------------------------------
#include "mos6502.h"
#include "yakc/core/system_bus.h"

namespace YAKC {

//------------------------------------------------------------------------------
mos6502::mos6502() {
    this->init();
}

//------------------------------------------------------------------------------
void
mos6502::init() {
    A = 0; X = 0; Y = 0; S = 0; P = XF; PC = 0;
    inv = false; irq_active = false;
}

//------------------------------------------------------------------------------
void
mos6502::reset() {
    P = (IF | XF);
    S = 0xFD;
    PC = mem.r16(0xFFFC);
}

//------------------------------------------------------------------------------
uint32_t
mos6502::invalid_opcode() {
    return 0;
}

//------------------------------------------------------------------------------
void
mos6502::irq(bool b) {
    this->irq_active = b;
}

//------------------------------------------------------------------------------
int
mos6502::handle_irq(system_bus* bus) {
    // FIXME
    return 0;
}

} // namespace YAKC
