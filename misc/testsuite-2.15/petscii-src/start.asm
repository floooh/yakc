         *= $0801         .BYTE $4C,$16,$08,$00,$97,$32         .BYTE $2C,$30,$3A,$9E,$32,$30         .BYTE $37,$30,$00,$00,$00,$A9         .BYTE $01,$85,$02         JSR PRINT         .BYTE 147,14,13         .TEXT "ÃOMMODORE 64 "         .TEXT "ÅMULATOR ÔEST ÓUITE"         .BYTE 13         .TEXT "ÐUBLIC ÄOMAIN, "         .TEXT "NO ÃOPYRIGHT"         .BYTE 13,13         .NULL "BASIC COMMANDS"E        .MACRO         JSR PRINT         .TEXT " - BLOCK "         .TEXT "@1"         .TEXT " FAILED"         .BYTE 13,0         RTS         .ENDM         CLI         CLDL00      LDA #0L01      CMP #0         BEQ L02         #E "01"L02      INC L00+1         INC L01+1         BNE L00         LDA #0         BEQ L03         #E "02"L03      LDA #0         BPL L04         #E "03"L04      LDA #$80         BMI L05         #E "04"L05      LDA #0         SEC         ASL A         BCS L06         CMP #0         BNE L06         LDA #1         ASL A         BCS L06         CMP #2         BNE L06         ASL A         BCS L06         CMP #4         BNE L06         ASL A         BCS L06         CMP #8         BNE L06         ASL A         BCS L06         CMP #16         BNE L06         ASL A         BCS L06         CMP #32         BNE L06         ASL A         BCS L06         CMP #64         BNE L06         ASL A         BCS L06         CMP #128         BNE L06         ASL A         BCC L06         BEQ L07L06      #E "05"L07      CLC         BCC L08         #E "06"L08      SEC         BCS L09         #E "07"L09      LDA #0         SEC         LSR A         BCS L10         CMP #0         BNE L10         LDA #128         LSR A         BCS L10         CMP #64         BNE L10         LSR A         BCS L10         CMP #32         BNE L10         LSR A         BCS L10         CMP #16         BNE L10         LSR A         BCS L10         CMP #8         BNE L10         LSR A         BCS L10         CMP #4         BNE L10         LSR A         BCS L10         CMP #2         BNE L10         LSR A         BCS L10         CMP #1         BNE L10         LSR A         BCC L10         BEQ L11L10      #E "08"         LDA #1         STA L11+1L11      LDA #1         BNE L12         #E "09"L12      INC L11+1         BNE L11         LDA #0         STA L14+1L13      INC L14+1         CLC         ADC #1L14      CMP #1         BEQ L15         #E "10"L15      LDX L14+1         BNE L13         LDA #0         STA L17+1L16      INC L17+1         SEC         ADC #0L17      CMP #1         BEQ L18         #E "11"L18      LDX L17+1         BNE L16         LDA #255         CLC         ADC #1         BNE L19         BMI L19         BCS L20L19      #E "12"L20      LDA #0         STA 172         LDA 172L21      CMP #0         BEQ L22         #E "13"L22      INC L20+1         INC L21+1         BNE L20         LDA #78         TAX         LDA #0         TXA         CMP #78         BEQ L23         #E "14"L23      LDA #0         ORA #$01         CMP #$01         BNE L24         ORA #$02         CMP #$03         BNE L24         ORA #$04         CMP #$07         BNE L24         ORA #$08         CMP #$0F         BNE L24         ORA #$10         CMP #$1F         BNE L24         ORA #$20         CMP #$3F         BNE L24         ORA #$40         CMP #$7F         BNE L24         ORA #$80         CMP #$FF         BEQ L25L24      #E "15"L25      LDA #$FF         AND #$FE         CMP #$FE         BNE L26         AND #$FD         CMP #$FC         BNE L26         AND #$FB         CMP #$F8         BNE L26         AND #$F7         CMP #$F0         BNE L26         AND #$EF         CMP #$E0         BNE L26         AND #$DF         CMP #$C0         BNE L26         AND #$BF         CMP #$80         BNE L26         AND #$7F         CMP #$00         BEQ L27L26      #E "16"L27      LDX #0L28      TXA         ASL A         CMP L0TAB,X         BEQ L29         #E "17"L29      INX         BNE L28         LDX #0L30      TXA         CLC         ROL A         CMP L0TAB,X         BEQ L31         #E "18"L31      INX         BNE L30         LDX #0L32      TXA         SEC         ROL A         CMP L1TAB,X         BEQ L33         #E "19"L33      INX         BNE L32         LDX #0L34      TXA         LSR A         CMP R0TAB,X         BEQ L35         #E "20"L35      INX         BNE L34         LDX #0L36      TXA         CLC         ROR A         CMP R0TAB,X         BEQ L37         #E "21"L37      INX         BNE L36         LDX #0L38      TXA         SEC         ROR A         CMP R1TAB,X         BEQ L39         #E "22"L39      INX         BNE L38         LDY #0L40      TYA         TAX         INX         TXA         CMP I0TAB,Y         BEQ L41         #E "23"L41      INY         BNE L40         LDX #0L42      TXA         TAY         INY         TYA         CMP I0TAB,X         BEQ L43         #E "24"L43      INX         BNE L42         LDX #0L44      TXA         CLC         ADC #1         CMP I0TAB,X         BEQ L45         #E "25"L45      INX         BNE L44         LDX #0L46      TXA         SEC         ADC #1         CMP I1TAB,X         BEQ L47         #E "26"L47      INX         BNE L46         LDX #0L48      TXA         SEC         SBC #1         CMP D0TAB,X         BEQ L49         #E "27"L49      INX         BNE L48         LDX #0L50      TXA         CLC         SBC #1         CMP D1TAB,X         BEQ L51         #E "28"L51      INX         BNE L50         JSR PRINT         .TEXT " - OK"         .BYTE 13,0         LDA 2         BEQ LOADWAIT     JSR $FFE4         BEQ WAIT         JMP $8000LOAD     JSR PRINTNAME     .TEXT "LDAB"NAMELEN  = *-NAME         .BYTE 0         LDA #0         STA $0A         STA $B9         LDA #NAMELEN         STA $B7         LDA #<NAME         STA $BB         LDA #>NAME         STA $BC         PLA         PLA         JMP $E16FL0TABX        .VAR 0L0T      .LBL         .BYTE X*2&255X        .VAR X+1&255         .IF X         .GOTO L0T         .ENDIFL1TABX        .VAR 0L1T      .LBL         .BYTE X*2&255.1X        .VAR X+1&255         .IF X         .GOTO L1T         .ENDIFR0TABX        .VAR 0R0T      .LBL         .BYTE X/2&255X        .VAR X+1&255         .IF X         .GOTO R0T         .ENDIFR1TABX        .VAR 0R1T      .LBL         .BYTE X/2&255.128X        .VAR X+1&255         .IF X         .GOTO R1T         .ENDIFI0TABX        .VAR 0I0T      .LBL         .BYTE X+1&255X        .VAR X+1&255         .IF X         .GOTO I0T         .ENDIFI1TABX        .VAR 0I1T      .LBL         .BYTE X+2&255X        .VAR X+1&255         .IF X         .GOTO I1T         .ENDIFD0TABX        .VAR 0D0T      .LBL         .BYTE X-1&255X        .VAR X+1&255         .IF X         .GOTO D0T         .ENDIFD1TABX        .VAR 0D1T      .LBL         .BYTE X-2&255X        .VAR X+1&255         .IF X         .GOTO D1T         .ENDIFPRINT    PLA         STA PRINT0+1         PLA         STA PRINT0+2         LDX #1PRINT0   LDA !*,X         BEQ PRINT1         JSR $FFD2         INX         BNE PRINT0PRINT1   SEC         TXA         ADC PRINT0+1         STA PRINT2+1         LDA #0         ADC PRINT0+2         STA PRINT2+2PRINT2   JMP !*